# syntax=docker/dockerfile:1
ARG base=ubuntu:20.04
FROM ${base} as base
ENV DEBIAN_FRONTEND=noninteractive

ARG user=docker

# core system
RUN apt update
RUN apt upgrade -y
RUN apt install -y sudo vim zsh curl iputils-ping iproute2 wget python3 git
RUN useradd --user-group --system --create-home --no-log-init ${user} && adduser ${user} sudo
RUN echo '%sudo ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers

USER ${user}
WORKDIR /home/${user}

ENTRYPOINT ["/bin/bash"]